(()=>{"use strict";var e,w={953:(e,s,n)=>{var d=n(861),r=n(82);const o=200;function _(c,p){return i.apply(this,arguments)}function i(){return(i=(0,d.Z)(function*(c,p,f=0){const h=p.searchParams.get("id");if(null===h)return;const a=yield r.db.movies.get(h);if(a&&f>200)return new Response(void 0,{status:206,statusText:"Partial Content",headers:{"Accept-Ranges":"bytes","Content-Disposition":"inline","Content-Type":a.mime_type,"Content-Length":0,"Content-Range":`bytes 0-/${a.content_length}`}});if(void 0===a||a.downloaded_length<a.content_length)return yield r.db.requested_movie_fragment.put({movie_id:h,data_id:0,start:-1,end:-1}),yield new Promise(v=>setTimeout(v,o)),yield _(c,p,f+1);const k=c.request.headers.get("range")||"",l=k.match(/bytes=(?<from>[0-9]+)?-(?<to>[0-9]+)?/),y=l&&l.groups&&l.groups.from?Number(l.groups.from):0;let x=l&&l.groups&&l.groups.to?Number(l.groups.to):y+1e7;const{buffers:O,start:g,end:b}=yield r.db.getMovieBuffer(h,y,x);if(0==O.length)return f%100==0&&(yield r.db.requested_movie_fragment.put({movie_id:h,data_id:0,start:y,end:x})),yield new Promise(v=>setTimeout(v,o)),yield _(c,p,f+1);const T=new Blob(O,{type:a.mime_type}),P={status:b-g<a.content_length?206:200,statusText:b-g<a.content_length?"Partial Content":"OK",headers:{"Accept-Ranges":"bytes","Content-Disposition":"inline","Content-Type":a.mime_type,"Content-Length":b-g}};return k&&(P.headers["Content-Range"]=`bytes ${g}-${b-1}/${a.content_length}`),new Response(T.stream(),P)})).apply(this,arguments)}const m={"/movie":_};addEventListener("fetch",c=>{const p=new URL(c.request.url);p.pathname in m&&c.respondWith((0,d.Z)(function*(){return(yield m[p.pathname](c,p))||(yield fetch(c.request))})())}),importScripts("ngsw-worker.js")}},C={};function t(e){var s=C[e];if(void 0!==s)return s.exports;var n=C[e]={exports:{}};return w[e](n,n.exports,t),n.exports}t.m=w,t.x=()=>{var e=t.O(void 0,[82],()=>t(953));return t.O(e)},e=[],t.O=(s,n,d,r)=>{if(!n){var u=1/0;for(o=0;o<e.length;o++){for(var[n,d,r]=e[o],_=!0,i=0;i<n.length;i++)(!1&r||u>=r)&&Object.keys(t.O).every(a=>t.O[a](n[i]))?n.splice(i--,1):(_=!1,r<u&&(u=r));if(_){e.splice(o--,1);var m=d();void 0!==m&&(s=m)}}return s}r=r||0;for(var o=e.length;o>0&&e[o-1][2]>r;o--)e[o]=e[o-1];e[o]=[n,d,r]},t.d=(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce((s,n)=>(t.f[n](e,s),s),[])),t.u=e=>e+".24fad4c3b81c2f41.js",t.miniCssF=e=>{},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e;t.tt=()=>(void 0===e&&(e={createScriptURL:s=>s},typeof trustedTypes<"u"&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e)})(),t.tu=e=>t.tt().createScriptURL(e),t.p="",(()=>{var e={953:1};t.f.i=(r,o)=>{e[r]||importScripts(t.tu(t.p+t.u(r)))};var n=self.webpackChunksyncwatch_lite=self.webpackChunksyncwatch_lite||[],d=n.push.bind(n);n.push=r=>{var[o,u,_]=r;for(var i in u)t.o(u,i)&&(t.m[i]=u[i]);for(_&&_(t);o.length;)e[o.pop()]=1;d(r)}})(),(()=>{var e=t.x;t.x=()=>t.e(82).then(e)})(),t.x()})();